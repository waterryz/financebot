{% extends "layout.html" %}
{% block title %}–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —Ü–µ–ª–∏{% endblock %}

{% block content %}

<style>
    .goal-wrap {
        min-height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .card {
        width: 520px;
        background: rgba(20, 30, 60, 0.85);
        border-radius: 20px;
        padding: 28px;
        box-shadow: 0 20px 60px rgba(0,0,0,0.5);
        color: #fff;
    }

    h1 {
        margin: 0 0 10px 0;
        font-size: 26px;
    }

    .muted {
        color: #9aa4c7;
        font-size: 14px;
    }

    .progress {
        margin: 16px 0;
        background: rgba(255,255,255,0.1);
        height: 10px;
        border-radius: 999px;
        overflow: hidden;
    }

    .progress-bar {
        height: 100%;
        background: linear-gradient(90deg, #6c7cff, #8b5cf6);
        width: {{ goal.percent }}%;
    }

    label {
        display: block;
        margin-top: 16px;
        margin-bottom: 6px;
        font-size: 14px;
        color: #cdd6ff;
    }

    select, input {
        width: 100%;
        padding: 14px;
        border-radius: 12px;
        border: none;
        outline: none;
        font-size: 16px;
        background: #1c2744;
        color: #fff;
    }

    select option {
        background: #1c2744;
    }

    .actions {
        display: flex;
        gap: 12px;
        margin-top: 24px;
    }

    button {
        flex: 1;
        padding: 14px;
        border-radius: 14px;
        border: none;
        font-size: 16px;
        cursor: pointer;
    }

    .btn-main {
        background: linear-gradient(90deg, #6c7cff, #8b5cf6);
        color: #fff;
    }

    .btn-cancel {
        background: #3a465e;
        color: #fff;
    }

    .error {
        margin-top: 12px;
        color: #ff6b6b;
        font-size: 14px;
    }
</style>

<div class="goal-wrap">

    <div class="card">

        <div class="muted">–ü–û–ü–û–õ–ù–ï–ù–ò–ï –¶–ï–õ–ò</div>
        <h1>{{ goal.name }}</h1>

        <div class="muted">
            {{ goal.saved }} ‚Ç∏ –∏–∑ {{ goal.target }} ‚Ç∏
        </div>

        <div class="progress">
            <div class="progress-bar"></div>
        </div>

        <div class="muted">
            {{ goal.percent }}% –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
        </div>

        <form method="post" action="/add_goal_money/save">

            <input type="hidden" name="token" value="{{ token }}">
            <input type="hidden" name="id" value="{{ goal.id }}">

            <label>–ö–æ—à–µ–ª—ë–∫</label>
            <select name="wallet_id" required>
                {% for w in wallets %}
                    <option value="{{ w.id }}">
                        {{ w.name }} ‚Äî {{ w.balance }} ‚Ç∏
                    </option>
                {% endfor %}
            </select>

            <label>–°—É–º–º–∞</label>
            <input
                type="number"
                name="amount"
                placeholder="–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É"
                min="1"
                required
            >

            {% if error %}
                <div class="error">{{ error }}</div>
            {% endif %}

            <div class="actions">
                <button type="submit" class="btn-main">üí∞ –ü–æ–ø–æ–ª–Ω–∏—Ç—å</button>
                <a href="/goals?token={{ token }}" style="flex:1;">
                    <button type="button" class="btn-cancel">–û—Ç–º–µ–Ω–∞</button>
                </a>
            </div>

        </form>

    </div>

</div>

{% endblock %}
