<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>–ú–æ–∏ —Ü–µ–ª–∏</title>
    <link rel="stylesheet" href="/static/style.css">

    <script>
        function toggleSidebar() {
            document.getElementById("sidebar").classList.toggle("open");
        }
    </script>
</head>
<div class="top-profile">
    <div class="profile-icon" onclick="toggleProfileMenu()">üë§</div>

    <div class="profile-menu" id="profileMenu">
        <a href="/profile?token={{ token }}">üë§ –ü—Ä–æ—Ñ–∏–ª—å</a>
        <a href="/settings?token={{ token }}">‚öô –ù–∞—Å—Ç—Ä–æ–π–∫–∏</a>
        <a href="/login">üö™ –í—ã–π—Ç–∏</a>
    </div>
</div>

<script>
function toggleProfileMenu() {
    document.getElementById("profileMenu").classList.toggle("open");
}
</script>

<body>

<!-- SIDEBAR -->
<div class="sidebar" id="sidebar">
    <div class="sidebar-tab" onclick="toggleSidebar()">‚ò∞</div>

    <div class="sidebar-content">
        <a href="/home?token={{ token }}">üè† –ì–ª–∞–≤–Ω–∞—è</a>
        <a href="/add_expense?token={{ token }}">‚ûñ –î–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å—Ö–æ–¥</a>
        <a href="/add_income?token={{ token }}">‚ûï –î–æ–±–∞–≤–∏—Ç—å –¥–æ—Ö–æ–¥</a>
        <a href="/history?token={{ token }}">üìú –ò—Å—Ç–æ—Ä–∏—è</a>
        <a href="/wishlist?token={{ token }}">üïí –û—Ç–ª–æ–∂–µ–Ω–Ω—ã–µ –ø–æ–∫—É–ø–∫–∏</a>
        <a href="/goals?token={{ token }}">üéØ –¶–µ–ª–∏</a>
        <a href="/stats?token={{ token }}">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</a>

    </div>
</div>

<!-- PAGE WRAPPER -->
<div class="page-wrapper">

    <div class="wishlist-container">
        <h1 class="wishlist-title">üéØ –ú–æ–∏ —Ü–µ–ª–∏</h1>

        <!-- –ö–Ω–æ–ø–∫–∞ –¥–æ–±–∞–≤–∏—Ç—å -->
        <a href="/add_goal?token={{ token }}"
           class="goal-btn"
           style="margin-bottom: 20px; display: block; text-align: center;">
            ‚ûï –î–æ–±–∞–≤–∏—Ç—å —Ü–µ–ª—å
        </a>

        <!-- –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ü–µ–ª–µ–π -->
        {% for g in goals %}
        <div class="wish-card">

            <div class="wish-top">
                <div class="wish-name">{{ g.name }}</div>
                <div class="wish-price">{{ g.saved }} / {{ g.target }} ‚Ç∏</div>
                <div class="wish-date">
                    –°–æ–∑–¥–∞–Ω–∞: {{ g.date }}
                </div>
            </div>

            <div class="progress-bar">
                <div class="progress-fill" style="width: {{ g.percent }}%;"></div>
            </div>

            <div class="wish-actions">
                <a href="/goal_edit?token={{ token }}&id={{ g.id }}" class="wish-btn">
                    ‚úè –ò–∑–º–µ–Ω–∏—Ç—å
                </a>

                <a href="/goal_delete?token={{ token }}&id={{ g.id }}" class="wish-btn danger">
                    üóë –£–¥–∞–ª–∏—Ç—å
                </a>
            </div>

        </div>
        {% endfor %}

        {% if goals|length == 0 %}
            <p class="no-history">–¶–µ–ª–µ–π –ø–æ–∫–∞ –Ω–µ—Ç</p>
        {% endif %}

    </div>

</div>

</body>
</html>
