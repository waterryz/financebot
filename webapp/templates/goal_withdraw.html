{% extends "layout.html" %}
{% block content %}

<div class="flex justify-center mt-16">
    <div class="w-[420px] bg-slate-900/80 rounded-2xl p-6 shadow-xl border border-white/10">

        <h2 class="text-xl font-semibold mb-4">–í—ã–≤–æ–¥ –∏–∑ —Ü–µ–ª–∏</h2>

        <div class="text-sm text-slate-400 mb-2">
            {{ goal.name }}
        </div>

        <div class="text-sm text-emerald-400 mb-4">
            –î–æ—Å—Ç—É–ø–Ω–æ: {{ goal.saved }} ‚Ç∏
        </div>

        <form method="post" action="/goal_withdraw">

            <input type="hidden" name="token" value="{{ token }}">
            <input type="hidden" name="id" value="{{ goal.id }}">

            <label class="block text-sm mb-1">–ö–æ—à–µ–ª—ë–∫</label>
            <select name="wallet_id"
                    required
                    class="w-full mb-4 px-4 py-3 rounded-xl bg-slate-800 text-white outline-none">
                {% for w in wallets %}
                    <option value="{{ w.id }}">
                        {{ w.name }} ‚Äî {{ w.balance }} ‚Ç∏
                    </option>
                {% endfor %}
            </select>

            <label class="block text-sm mb-1">–°—É–º–º–∞</label>
            <input type="number"
                   name="amount"
                   min="1"
                   max="{{ goal.saved }}"
                   required
                   class="w-full mb-6 px-4 py-3 rounded-xl bg-slate-800 text-white outline-none"
                   placeholder="–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É">

            {% if error %}
                <div class="text-red-400 text-sm mb-4">
                    {{ error }}
                </div>
            {% endif %}

            <div class="flex gap-3">
                <button type="submit"
                        class="flex-1 bg-yellow-400 hover:bg-yellow-500 text-black py-3 rounded-xl font-semibold">
                    üí∏ –í—ã–≤–µ—Å—Ç–∏
                </button>

                <a href="/goals?token={{ token }}"
                   class="flex-1 text-center bg-slate-700 hover:bg-slate-600 py-3 rounded-xl">
                    –û—Ç–º–µ–Ω–∞
                </a>
            </div>

        </form>
    </div>
</div>

{% endblock %}
