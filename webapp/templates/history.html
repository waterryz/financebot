<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>–ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π</title>
    <link rel="stylesheet" href="/static/style.css">

    <script>
        function toggleSidebar() {
            document.getElementById("sidebar").classList.toggle("open");
        }
    </script>
</head>
<div class="top-profile">
    <div class="profile-icon" onclick="toggleProfileMenu()">üë§</div>

    <div class="profile-menu" id="profileMenu">
        <a href="/profile?token={{ token }}">üë§ –ü—Ä–æ—Ñ–∏–ª—å</a>
        <a href="/settings?token={{ token }}">‚öô –ù–∞—Å—Ç—Ä–æ–π–∫–∏</a>
        <a href="/login">üö™ –í—ã–π—Ç–∏</a>
    </div>
</div>

<script>
function toggleProfileMenu() {
    document.getElementById("profileMenu").classList.toggle("open");
}
</script>

<body>

<!-- SIDEBAR -->
<div class="sidebar" id="sidebar">

    <div class="sidebar-tab" onclick="toggleSidebar()">
        ‚ò∞
    </div>

    <div class="sidebar-content">
        <a href="/home?token={{ token }}">üè† –ì–ª–∞–≤–Ω–∞—è</a>
        <a href="/add_expense?token={{ token }}">‚ûñ –î–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å—Ö–æ–¥</a>
        <a href="/add_income?token={{ token }}">‚ûï –î–æ–±–∞–≤–∏—Ç—å –¥–æ—Ö–æ–¥</a>
        <a href="/history?token={{ token }}">üìú –ò—Å—Ç–æ—Ä–∏—è</a>
        <a href="/goals?token={{ token }}">üéØ –¶–µ–ª–∏</a>

        <a href="/stats?token={{ token }}">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</a>
        <a href="/wishlist?token={{ token }}">‚è≥ –û—Ç–ª–æ–∂–µ–Ω–Ω—ã–µ –ø–æ–∫—É–ø–∫–∏</a>

    </div>

</div>


<div class="history-container">

    <h1 class="history-title">–ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π</h1>

    {% if not items %}
        <p class="no-history">–ò—Å—Ç–æ—Ä–∏—è –ø—É—Å—Ç–∞ üòê</p>
    {% else %}
        {% for item in items %}
        <div class="history-item">

            <div class="item-left">

                <div class="item-cat">{{ item[2] }}</div>

                {% if item[3] %}
                    <div class="item-desc">{{ item[3] }}</div>
                {% endif %}

                <div class="item-date">
                    {{ item[4].strftime("%d.%m %H:%M") }}
                </div>
            </div>

            <div class="item-right {{ 'inc' if item[1] == 'income' else 'exp' }}">
                {{ '+' if item[1] == 'income' else '-' }}{{ item[0] }} ‚Ç∏
            </div>

        </div>
        {% endfor %}
    {% endif %}

</div>

</body>
</html>
