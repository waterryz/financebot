{% extends "layout.html" %}
{% block content %}

<div class="max-w-xl mx-auto mt-10">
    <h1 class="text-3xl font-semibold mb-8 flex items-center justify-center gap-2">
        ‚öô –ù–∞—Å—Ç—Ä–æ–π–∫–∏
    </h1>
    {% if request.query_params.success == "username_updated" %}
        <p class="mb-4 text-sm text-emerald-400">–õ–æ–≥–∏–Ω —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª—ë–Ω ‚úÖ</p>
    {% elif request.query_params.success == "password_updated" %}
        <p class="mb-4 text-sm text-emerald-400">–ü–∞—Ä–æ–ª—å —É—Å–ø–µ—à–Ω–æ –∏–∑–º–µ–Ω—ë–Ω ‚úÖ</p>
    {% elif request.query_params.error == "username_taken" %}
        <p class="mb-4 text-sm text-rose-400">–¢–∞–∫–æ–π –ª–æ–≥–∏–Ω —É–∂–µ –∑–∞–Ω—è—Ç ‚ùå</p>
    {% elif request.query_params.error == "password_wrong" %}
        <p class="mb-4 text-sm text-rose-400">–¢–µ–∫—É—â–∏–π –ø–∞—Ä–æ–ª—å –Ω–µ–≤–µ—Ä–Ω—ã–π ‚ùå</p>
    {% endif %}

    <div class="bg-slate-900/80 rounded-2xl p-6 border border-white/10 shadow mb-8">
        <h2 class="text-lg font-semibold mb-4 flex items-center gap-2">
            üî§ –°–º–µ–Ω–∞ –ª–æ–≥–∏–Ω–∞
        </h2>

        <form action="/update_username" method="post" class="space-y-4">
            <input type="hidden" name="token" value="{{ token }}">

            <div>
                <p class="text-sm text-slate-400 mb-1">–¢–µ–∫—É—â–∏–π –ª–æ–≥–∏–Ω</p>
                <div class="bg-slate-800 rounded-xl p-3 border border-white/10 text-white">
                    {{ username }}
                </div>
            </div>

            <input
                type="text"
                name="new_username"
                placeholder="–ù–æ–≤—ã–π –ª–æ–≥–∏–Ω"
                required
                class="w-full p-3 rounded-xl bg-slate-800 border border-white/10 text-white"
            >

            <button class="bg-primary-600 hover:bg-primary-500 w-full py-3 rounded-xl font-semibold text-white">
                –û–±–Ω–æ–≤–∏—Ç—å –ª–æ–≥–∏–Ω
            </button>
        </form>
    </div>
    <div class="bg-slate-900/80 rounded-2xl p-6 border border-white/10 shadow mb-8">
        <h2 class="text-lg font-semibold mb-4 flex items-center gap-2">
            üîê –°–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è
        </h2>
        <form action="/update_password" method="post" class="space-y-4">
            <input type="hidden" name="token" value="{{ token }}">
            <input
                type="password"
                name="old_password"
                placeholder="–¢–µ–∫—É—â–∏–π –ø–∞—Ä–æ–ª—å"
                required
                class="w-full p-3 rounded-xl bg-slate-800 border border-white/10 text-white"
            >
            <input
                type="password"
                name="new_password"
                placeholder="–ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å"
                required
                class="w-full p-3 rounded-xl bg-slate-800 border border-white/10 text-white"
            >
            <button class="bg-primary-600 hover:bg-primary-500 w-full py-3 rounded-xl font-semibold text-white">
                –û–±–Ω–æ–≤–∏—Ç—å –ø–∞—Ä–æ–ª—å
            </button>
        </form>
    </div>
</div>


{% endblock %}
